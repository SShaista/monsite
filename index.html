<!doctype html>
<html lang="fr">
<head>
  <script src="https://unpkg.com/ical.js@1.5.0/build/ical.js"></script>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Student Portal</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
  <!-- Loading Screen -->
  <div id="loading-screen" class="loading-screen">
    <div class="loading-content">
      <div class="loading-icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
      </div>
      <h1>Student Portal</h1>
      <p>Chargement...</p>
    </div>
  </div>

  <!-- Main App -->
  <div id="app" class="app hidden">
    <!-- Header -->
    <header class="header">
      <div class="header-content">
        <div>
          <h1 id="page-title">Emploi du temps</h1>
          <p id="current-date" class="date"></p>
        </div>
        <div class="header-actions">
          <button class="icon-btn" aria-label="Notifications">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg>
            <span class="notification-dot"></span>
          </button>
          <button class="icon-btn avatar" aria-label="Profil">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
          </button>
        </div>
      </div>
    </header>

    <main class="main-content">
      <!-- Schedule View -->
      <section id="view-schedule" class="view active">

        <div id="icsStatus" style="display:none;"></div>

      <!-- Week selector -->
        <div class="week-bar">
          <button id="prevWeek" class="secondary-btn">◀</button>
          <div class="week-info">
            <div id="weekLabel" class="week-title">Semaine</div>
            <div id="weekDates" class="muted"></div>
         </div>
         <button id="nextWeek" class="secondary-btn">▶</button>
        </div>

      <!-- Day selector (dates change with the selected week) -->
        <div class="day-selector" id="daySelector">
        <!-- rempli en JS -->
        </div>

        <div id="schedule-list" class="schedule-list"></div>

        <div class="summary-card">
          <h4>Résumé</h4>
          <div class="summary-grid">
            <div class="summary-item">
              <p id="sumCourses" class="summary-value blue">0</p>
              <p class="summary-label">Événements</p>
            </div>
            <div class="summary-item">
              <p id="sumHours" class="summary-value green">0h</p>
              <p class="summary-label">Durée totale</p>
            </div>
            <div class="summary-item">
              <p id="sumDays" class="summary-value yellow">0</p>
              <p class="summary-label">Jours</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Courses View -->
      <section id="view-courses" class="view">
        <div id="courses-list"></div>
      </section>


      <!-- Exams View -->
      <section id="view-exams" class="view">
        <div class="empty-state">
          <div class="empty-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
          </div>
          <p>Onglet Examens (démo).</p>
        </div>
      </section>

      <!-- Settings View -->
      <section id="view-settings" class="view">
        <div class="profile-card">
          <div class="profile-avatar">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
          </div>
          <div class="profile-info">
            <h3>Étudiant</h3>
            <p>exemple@mail.com</p>
            <span class="profile-badge">Portail étudiant</span>
          </div>
        </div>

        <div class="app-version">
          <p>Student Portal v1.0.0</p>
          <p>2026</p>
        </div>
      </section>
    </main>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
      <div class="nav-container">
        <button class="nav-item active" data-view="schedule">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
          <span class="nav-label">EDT</span>
        </button>

        <button class="nav-item" data-view="courses">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
            <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
          </svg>
          <span class="nav-label">Cours</span>
        </button>


        <button class="nav-item" data-view="exams">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 11l3 3L22 4"></path><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path></svg>
          <span class="nav-label">Examens</span>
        </button>

        <button class="nav-item" data-view="settings">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09A1.65 1.65 0 0 0 15 4.6a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9c.1.32.15.66.15 1s-.05.68-.15 1z"></path></svg>
          <span class="nav-label">Param.</span>
        </button>
      </div>
    </nav>
  </div>

  <script src="script.js"></script>
 

</body>
</html>
